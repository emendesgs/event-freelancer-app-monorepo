datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id            String    @id @default(uuid())
  email         String    @unique
  full_name     String
  password_hash String
  created_at    DateTime  @default(now())
  updated_at    DateTime  @updatedAt
  jobs          Job[]
  products      Product[]
  applications  Application[]
}

model Category {
  id       String @id @default(uuid())
  name     String @unique
  jobs     Job[]
  products Product[]
}

model Job {
  id           String    @id @default(uuid())
  title        String
  description  String
  budget_type  String
  budget_min   Float
  budget_max   Float
  location     String
  created_at   DateTime  @default(now())
  updated_at   DateTime  @updatedAt
  user         User      @relation(fields: [user_id], references: [id])
  user_id      String
  category     Category  @relation(fields: [category_id], references: [id])
  category_id  String
  applications Application[]
}

model Product {
  id          String   @id @default(uuid())
  name        String
  description String
  price       Float
  price_type  String
  created_at  DateTime @default(now())
  updated_at  DateTime @updatedAt
  user        User     @relation(fields: [user_id], references: [id])
  user_id     String
  category    Category @relation(fields: [category_id], references: [id])
  category_id String
}

model Application {
  id         String   @id @default(uuid())
  message    String
  status     String   @default("pending")
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt
  user       User     @relation(fields: [user_id], references: [id])
  user_id    String
  job        Job      @relation(fields: [job_id], references: [id])
  job_id     String
}