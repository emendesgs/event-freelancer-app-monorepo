<div class="min-h-screen bg-gray-50">
  <!-- Header -->
  <div class="bg-white shadow">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
      <div class="flex items-center">
        <button
          (click)="goBack()"
          class="mr-4 p-2 text-gray-400 hover:text-gray-600"
        >
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
          </svg>
        </button>
        <div>
          <h1 class="text-3xl font-bold text-gray-900">Criar Nova Vaga</h1>
          <p class="mt-2 text-gray-600">Preencha os detalhes da vaga que você está oferecendo</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Form -->
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <form [formGroup]="jobForm" (ngSubmit)="handleSubmit()" class="bg-white rounded-lg shadow p-8">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Título -->
        <div class="md:col-span-2">
          <label for="title" class="block text-sm font-medium text-gray-700 mb-2">
            Título da Vaga *
          </label>
          <input
            type="text"
            id="title"
            formControlName="title"
            class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            [ngClass]="{'border-red-500': isControlInvalid('title')}"
            placeholder="Ex: Fotógrafo de Eventos"
          />
          <p *ngIf="isControlInvalid('title')" class="mt-1 text-sm text-red-600">
            {{ getErrorMessage('title') }}
          </p>
        </div>

        <!-- Empresa -->
        <div>
          <label for="company" class="block text-sm font-medium text-gray-700 mb-2">
            Empresa *
          </label>
          <input
            type="text"
            id="company"
            formControlName="company"
            class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            [ngClass]="{'border-red-500': isControlInvalid('company')}"
            placeholder="Nome da sua empresa"
          />
          <p *ngIf="isControlInvalid('company')" class="mt-1 text-sm text-red-600">
            {{ getErrorMessage('company') }}
          </p>
        </div>

        <!-- Localização -->
        <div>
          <label for="location" class="block text-sm font-medium text-gray-700 mb-2">
            Localização *
          </label>
          <input
            type="text"
            id="location"
            formControlName="location"
            class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            [ngClass]="{'border-red-500': isControlInvalid('location')}"
            placeholder="Ex: São Paulo, SP ou Remoto"
          />
          <p *ngIf="isControlInvalid('location')" class="mt-1 text-sm text-red-600">
            {{ getErrorMessage('location') }}
          </p>
        </div>

        <!-- Salário -->
        <div>
          <label for="salary" class="block text-sm font-medium text-gray-700 mb-2">
            Salário/Remuneração *
          </label>
          <input
            type="text"
            id="salary"
            formControlName="salary"
            class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            [ngClass]="{'border-red-500': isControlInvalid('salary')}"
            placeholder="Ex: R$ 800 - R$ 1.200 por evento"
          />
          <p *ngIf="isControlInvalid('salary')" class="mt-1 text-sm text-red-600">
            {{ getErrorMessage('salary') }}
          </p>
        </div>

        <!-- Tipo -->
        <div>
          <label for="type" class="block text-sm font-medium text-gray-700 mb-2">
            Tipo de Contrato *
          </label>
          <select
            id="type"
            formControlName="type"
            class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            [ngClass]="{'border-red-500': isControlInvalid('type')}"
          >
            <option value="">Selecione o tipo</option>
            <option *ngFor="let type of types" [value]="type">{{ type }}</option>
          </select>
          <p *ngIf="isControlInvalid('type')" class="mt-1 text-sm text-red-600">
            {{ getErrorMessage('type') }}
          </p>
        </div>

        <!-- Categoria -->
        <div>
          <label for="category" class="block text-sm font-medium text-gray-700 mb-2">
            Categoria *
          </label>
          <select
            id="category"
            formControlName="category"
            class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            [ngClass]="{'border-red-500': isControlInvalid('category')}"
          >
            <option value="">Selecione a categoria</option>
            <option *ngFor="let category of categories" [value]="category">{{ category }}</option>
          </select>
          <p *ngIf="isControlInvalid('category')" class="mt-1 text-sm text-red-600">
            {{ getErrorMessage('category') }}
          </p>
        </div>

        <!-- Data Limite -->
        <div>
          <label for="deadline" class="block text-sm font-medium text-gray-700 mb-2">
            Data Limite para Candidaturas *
          </label>
          <input
            type="date"
            id="deadline"
            formControlName="deadline"
            class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            [ngClass]="{'border-red-500': isControlInvalid('deadline')}"
          />
          <p *ngIf="isControlInvalid('deadline')" class="mt-1 text-sm text-red-600">
            {{ getErrorMessage('deadline') }}
          </p>
        </div>

        <!-- Email de Contato -->
        <div>
          <label for="contactEmail" class="block text-sm font-medium text-gray-700 mb-2">
            Email de Contato *
          </label>
          <input
            type="email"
            id="contactEmail"
            formControlName="contactEmail"
            class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            [ngClass]="{'border-red-500': isControlInvalid('contactEmail')}"
            placeholder="seu@email.com"
          />
          <p *ngIf="isControlInvalid('contactEmail')" class="mt-1 text-sm text-red-600">
            {{ getErrorMessage('contactEmail') }}
          </p>
        </div>

        <!-- Telefone de Contato -->
        <div>
          <label for="contactPhone" class="block text-sm font-medium text-gray-700 mb-2">
            Telefone de Contato *
          </label>
          <input
            type="tel"
            id="contactPhone"
            formControlName="contactPhone"
            class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            [ngClass]="{'border-red-500': isControlInvalid('contactPhone')}"
            placeholder="(11) 99999-9999"
          />
          <p *ngIf="isControlInvalid('contactPhone')" class="mt-1 text-sm text-red-600">
            {{ getErrorMessage('contactPhone') }}
          </p>
        </div>

        <!-- Descrição -->
        <div class="md:col-span-2">
          <label for="description" class="block text-sm font-medium text-gray-700 mb-2">
            Descrição da Vaga *
          </label>
          <textarea
            id="description"
            rows="4"
            formControlName="description"
            class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            [ngClass]="{'border-red-500': isControlInvalid('description')}"
            placeholder="Descreva detalhadamente a vaga, responsabilidades e expectativas..."
          ></textarea>
          <p *ngIf="isControlInvalid('description')" class="mt-1 text-sm text-red-600">
            {{ getErrorMessage('description') }}
          </p>
        </div>

        <!-- Requisitos -->
        <div class="md:col-span-2" formArrayName="requirements">
          <label class="block text-sm font-medium text-gray-700 mb-2">
            Requisitos *
          </label>
          <div *ngFor="let requirement of requirements.controls; let i = index" class="flex items-center mb-2">
            <input
              type="text"
              [formControlName]="i"
              class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
              placeholder="Ex: Experiência mínima de 2 anos"
            />
            <button
              *ngIf="requirements.length > 1"
              type="button"
              (click)="removeRequirement(i)"
              class="ml-2 p-2 text-red-600 hover:text-red-800"
            >
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
              </svg>
            </button>
          </div>
          <button
            type="button"
            (click)="addRequirement()"
            class="mt-2 text-blue-600 hover:text-blue-800 text-sm font-medium"
          >
            + Adicionar Requisito
          </button>
          <p *ngIf="jobForm.get('requirements')?.hasError('required') && jobForm.get('requirements')?.touched" class="mt-1 text-sm text-red-600">
            Pelo menos um requisito é obrigatório.
          </p>
        </div>
      </div>

      <!-- Submit Buttons -->
      <div class="mt-8 flex justify-end space-x-4">
        <button
          type="button"
          (click)="goBack()"
          class="px-6 py-3 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50"
        >
          Cancelar
        </button>
        <button
          type="submit"
          class="px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium"
          [disabled]="jobForm.invalid"
        >
          Publicar Vaga
        </button>
      </div>
    </form>
  </div>
</div>